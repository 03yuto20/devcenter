<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Control what to build when, with the Trigger Map - Bitrise DevCenter</title>
      
      
      
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="Bitrise DevCenter">
    <meta property="og:image" content="None/../../img/logo.svg">
    <meta name="apple-mobile-web-app-title" content="Bitrise DevCenter">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
      <link rel="apple-touch-icon" href="../../img/logo.svg">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../../assets/fonts/icon.eot?52m981');
      	src: url('../../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../../assets/stylesheets/application-a422ff04cc.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/palettes-05ab2406df.css">
    
    
      
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700|Source+Code+Pro">
      <style>
        body, input {
          font-family: 'Roboto', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Source Code Pro', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script src="../../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class="palette-primary-deep-purple palette-accent-deep-purple">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
              
                Webhooks <i class="icon icon-link"></i>
              
            
          </span>
        
        Control what to build when, with the Trigger Map
      </div>
    </div>
    
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/bitrise-io/devcenter" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../../img/logo.svg">
        </div>
      
      <div class="name">
        <strong>
          Bitrise DevCenter
          <span class="version">
            
          </span>
        </strong>
        
          <br>
          bitrise-io/devcenter
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/bitrise-io/devcenter/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/bitrise-io/devcenter/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Bitrise DevCenter" href="../..">
      Bitrise DevCenter
    </a>
    
  </li>

          
            
  <li>
    <span class="section">Getting Started</span>
    <ul>
      
        
  <li>
    <a class="" title="What is Bitrise?" href="../../getting-started/">
      What is Bitrise?
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Builds & Workflows" href="../../getting-started/builds-and-workflows/">
      Builds & Workflows
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Code Security" href="../../getting-started/code-security/">
      Code Security
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Infrastructure</span>
    <ul>
      
        
  <li>
    <a class="" title="Virtual Machines" href="../../infrastructure/virtual-machines/">
      Virtual Machines
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Available Stacks" href="../../infrastructure/available-stacks/">
      Available Stacks
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Signing up</span>
    <ul>
      
        
  <li>
    <a class="" title="Signing up with GitHub" href="../../signing-up/signing-up-with-github/">
      Signing up with GitHub
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Signing up with Bitbucket" href="../../signing-up/signing-up-with-bitbucket/">
      Signing up with Bitbucket
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Signing up with email" href="../../signing-up/signing-up-with-email/">
      Signing up with email
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Trial after signing up" href="../../signing-up/trial-after-signing-up/">
      Trial after signing up
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Adding a new app</span>
    <ul>
      
        
  <li>
    <a class="" title="Adding a new app" href="../../adding-a-new-app/">
      Adding a new app
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Connecting a repository" href="../../adding-a-new-app/connecting-a-repository/">
      Connecting a repository
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Setting up SSH keys" href="../../adding-a-new-app/setting-up-ssh-keys/">
      Setting up SSH keys
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Setting up configuration" href="../../adding-a-new-app/setting-up-configuration/">
      Setting up configuration
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Tutorials</span>
    <ul>
      
        
  <li>
    <a class="" title="Community Created" href="../../tutorials/community-created/">
      Community Created
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Create signed APK on bitrise.io" href="../../tutorials/create-signed-apk-on-bitrise/">
      Create signed APK on bitrise.io
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Configure and connect to your VPN" href="../../tutorials/vpn-configuration/">
      Configure and connect to your VPN
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Team management</span>
    <ul>
      
        
  <li>
    <a class="" title="Adding a new team member" href="../../team-management/">
      Adding a new team member
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Changing the owner of an app" href="../../team-management/changing-the-owner-of-an-app/">
      Changing the owner of an app
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Webhooks</span>
    <ul>
      
        
  <li>
    <a class="" title="Adding webhooks" href="../">
      Adding webhooks
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Adding a GitHub webhook" href="../adding-a-github-webhook/">
      Adding a GitHub webhook
    </a>
    
  </li>

      
        
  <li>
    <a class="current" title="Control what to build when, with the Trigger Map" href="./">
      Control what to build when, with the Trigger Map
    </a>
    
      
      
        <ul>
          
            <li class="anchor">
              <a title=""Components" of the trigger_map" href="#components-of-the-trigger_map">
                "Components" of the trigger_map
              </a>
            </li>
          
            <li class="anchor">
              <a title="How to build only a single branch" href="#how-to-build-only-a-single-branch">
                How to build only a single branch
              </a>
            </li>
          
            <li class="anchor">
              <a title="A very simple two workflow CI/CD setup" href="#a-very-simple-two-workflow-cicd-setup">
                A very simple two workflow CI/CD setup
              </a>
            </li>
          
            <li class="anchor">
              <a title="How to build only pull requests" href="#how-to-build-only-pull-requests">
                How to build only pull requests
              </a>
            </li>
          
        </ul>
      
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Caching</span>
    <ul>
      
        
  <li>
    <a class="" title="About caching" href="../../caching/about-caching/">
      About caching
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Caching Cocoapods" href="../../caching/caching-cocoapods/">
      Caching Cocoapods
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Caching Gradle" href="../../caching/caching-gradle/">
      Caching Gradle
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Caching Ruby GEMs" href="../../caching/caching-ruby-gems/">
      Caching Ruby GEMs
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">iOS</span>
    <ul>
      
        
  <li>
    <a class="" title="Code Signing" href="../../ios/code-signing/">
      Code Signing
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Uploading certificates" href="../../ios/uploading-certificates/">
      Uploading certificates
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Resigning an IPA" href="../../ios/resigning-an-ipa/">
      Resigning an IPA
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Frequent iOS issues" href="../../ios/frequent-ios-issues/">
      Frequent iOS issues
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="List of known Xcode issues" href="../../ios/known-xcode-issues/">
      List of known Xcode issues
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Docker</span>
    <ul>
      
        
  <li>
    <a class="" title="How to run your build locally in Docker" href="../../docker/run-your-build-locally-in-docker/">
      How to run your build locally in Docker
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Tips & Tricks</span>
    <ul>
      
        
  <li>
    <a class="" title="Attach any file as an Artifact to the Build" href="../../tips-and-tricks/attach-any-file-to-build/">
      Attach any file as an Artifact to the Build
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Expose an Environment Variable and use it in another Step" href="../../tips-and-tricks/expose-environment-variable/">
      Expose an Environment Variable and use it in another Step
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Don't mark the Build as failed if a given step would fail (ignore the error of the Step)" href="../../tips-and-tricks/dont-mark-build-failed-if-step-fails/">
      Don't mark the Build as failed if a given step would fail (ignore the error of the Step)
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Enable/Disable a step (optionally, based on a condition)" href="../../tips-and-tricks/disable-a-step-by-condition/">
      Enable/Disable a step (optionally, based on a condition)
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Xcode Archive: export options" href="../../tips-and-tricks/xcodebuild-export-options/">
      Xcode Archive: export options
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Install Any Additional Tool" href="../../tips-and-tricks/install-additional-tools/">
      Install Any Additional Tool
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="How to configure fastlane match for Bitrise" href="../../tips-and-tricks/how-to-configure-fastlane-match-for-bitrise/">
      How to configure fastlane match for Bitrise
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Frequently Asked Questions (FAQ)</span>
    <ul>
      
        
  <li>
    <a class="" title="Android x86 Emulator" href="../../faq/android-x86-emulator/">
      Android x86 Emulator
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="How to generate an SSH key pair" href="../../faq/how-to-generate-ssh-keypair/">
      How to generate an SSH key pair
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Tools</span>
    <ul>
      
        
  <li>
    <a class="" title="Bitrise Tools" href="../../tools/bitrise-tools/">
      Bitrise Tools
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
            <h1>Control what to build when, with the Trigger Map</h1>
          
          <p>Now that you have a <a href="../../webhooks/">webhook registered</a>,
the next step is to define when to build what.</p>
<p>When you register a webhook for an event or for multiple events (e.g. for <code>Code Push</code> and
for <code>Pull Request</code> events), your source code hosting service will call the webhook
every time the related event happens.</p>
<p>On <a href="https://www.bitrise.io">bitrise.io</a> these webhooks calls are called "triggers",
and can be mapped to different <code>Workflows</code>, or not mapped at all.
If you don't map a trigger to any workflow, then <a href="https://www.bitrise.io">bitrise.io</a> won't
start a build. If you map it to a workflow, then a build will be started
with the selected workflow.</p>
<p>In the following examples we'll use a very simple Bitrise configuration (<code>bitrise.yml</code>),
which does nothing else just prints the selected workflow's ID:</p>
<pre class="code"><code class="language-yaml">---
format_version: 1.3.0
default_step_lib_source: https://github.com/bitrise-io/bitrise-steplib.git
trigger_map:
- push_branch: &quot;*&quot;
  workflow: primary
- pull_request_target_branch: &quot;*&quot;
  pull_request_source_branch: &quot;*&quot;
  workflow: primary
workflows:
  primary:
    steps:
    - script:
        inputs:
        - content: |-
            #!/bin/bash
            echo &quot;$BITRISE_TRIGGERED_WORKFLOW_ID&quot;</code></pre>


<div class="admonition note">
<p class="admonition-title">What is bitrise.yml?</p>
<p><code>bitrise.yml</code> is the representation of your app's configuration.
In the workflow editor you can edit it in a visual way through the web UI,
but you can always switch to <code>bitrise.yml</code> mode (left side of the workflow editor)
to see the configuration in a YAML format, as well as you can edit the configuration
in YAML format too. It's up to you which solution you prefer, the visual web UI
or the YAML (<code>bitrise.yml</code>) representation, and you can switch between the two
any time (the changes you do in the web UI will be reflected in the <code>bitrise.yml</code>,
and vice versa).</p>
</div>
<p>The above example <code>bitrise.yml</code> will select the <code>primary</code> branch for every Code Push (<code>push_branch</code>)
and for every Pull Request (<code>pull_request_target_branch</code>).</p>
<p><em>If you remove the pull request item</em> from the <code>trigger_map</code> list, then
no pull request will trigger a build anymore. Example:</p>
<pre class="code"><code class="language-yaml">trigger_map:
- push_branch: &quot;*&quot;
  workflow: primary</code></pre>


<p>This configuration will start a build with the <code>primary</code> workflow
for every code push, but for nothing else (e.g. not for pull requests).</p>
<h2 id="components-of-the-trigger_map">"Components" of the <code>trigger_map</code><a class="headerlink" href="#components-of-the-trigger_map" title="Permanent link">⚓</a></h2>
<p>A <code>trigger_map</code> is a <em>list of filters</em>, and the <code>workflow</code> the given
filters should select in case of a matching trigger.</p>
<p><strong>Every filter item have to include at least one condition!</strong></p>
<p>This means that you can't have an item which only specifies the <code>workflow</code>,
at least one filter (<code>push_branch</code> / <code>pull_request_source_branch</code> / <code>pull_request_target_branch</code>)
have to be specified!</p>
<h3 id="the-available-filters">The available filters:<a class="headerlink" href="#the-available-filters" title="Permanent link">⚓</a></h3>
<ul>
<li><code>push_branch</code> : A filter which is matched against Code Push events' "branch" parameter</li>
<li><code>pull_request_source_branch</code> : A filter which is matched against Pull Request events' "source branch"
  parameter (the branch the pull request was started from)</li>
<li><code>pull_request_target_branch</code> : A filter which is matched against Pull Request events' "target branch"
  parameter - the branch the pull request will be <strong>merged into</strong></li>
<li><code>pattern</code> : <strong>DEPRECATED</strong> - this filter was used for both code push and pull request events,
  in combination with <code>is_pull_request_allowed</code>. This filter is now deprecated,
  as the new filters allow better control over event mapping.</li>
</ul>
<p>If you define multiple filters in a single item then <strong>all filters have to match</strong>
in order to select that item's workflow.
For example:</p>
<pre class="code"><code>trigger_map:
- pull_request_target_branch: &quot;master&quot;
  pull_request_source_branch: &quot;develop&quot;
  workflow: primary</code></pre>


<p>will only select the <code>primary</code> workflow if the pull request's source branch is <code>develop</code> <strong>AND</strong>
the target branch is <code>master</code>.</p>
<p>If you want to specify filters which should be treated separately, e.g. to
select <code>primary</code> for pull requests where the source is <code>develop</code>, as well as select
for the ones which target <code>master</code>:</p>
<pre class="code"><code>trigger_map:
- pull_request_target_branch: &quot;master&quot;
  workflow: primary
- pull_request_source_branch: &quot;develop&quot;
  workflow: primary</code></pre>


<p>One last note, which is hopefully not surprising after the previous example:
you can't mix and match <code>push_branch</code> and the <code>pull_request_..</code> filters in the same
item. This would effectively mean that the workflow should be selected
if the event is a Code Push and a Pull Request event <strong>at the same time</strong>.
This is simply not possible, source code hosting services send separate
webhooks for Pull Request (pre-merge state) and for Code Push events.
<em>A single webhook even will never be Code Push and Pull Request at the same time.</em></p>
<h2 id="how-to-build-only-a-single-branch">How to build only a single branch<a class="headerlink" href="#how-to-build-only-a-single-branch" title="Permanent link">⚓</a></h2>
<p>If you want to build only a single branch, for every code push, but for nothing else (no push to
any other branch should trigger a build, nor any pull request), then
all you have to do is to specify a <code>trigger_map</code> which does not map anything else
to any workflow, only the branch you want to build.</p>
<p>E.g. if you only want to build the <code>master</code> branch on code push:</p>
<pre class="code"><code class="language-yaml">trigger_map:
- push_branch: master
  workflow: primary</code></pre>


<p>Or if you only want to build <code>feature/</code> branches:</p>
<pre class="code"><code class="language-yaml">trigger_map:
- push_branch: feature/*
  workflow: primary</code></pre>


<p>Or the two together:</p>
<pre class="code"><code class="language-yaml">trigger_map:
- push_branch: master
  workflow: primary
- push_branch: feature/*
  workflow: primary</code></pre>


<p>This configuration will start a build for every code push which happens on
either <code>master</code> or on a <code>feature/</code> branch, and will use the same workflow for
both (<code>primary</code>).</p>
<p>If you want to use a differentn workflow for your <code>master</code> branch, then
all you have to do is to change the <code>workflow:</code> for that trigger map item:</p>
<pre class="code"><code class="language-yaml">trigger_map:
- push_branch: master
  workflow: deploy
- push_branch: feature/*
  workflow: primary</code></pre>


<p>This configuration will use the workflow <code>deploy</code> for every code push on <code>master</code>,
and the workflow <code>primary</code> for every code push on <code>feature/</code> branches,
and <strong>will not start a build for anything else</strong>.</p>
<h2 id="a-very-simple-two-workflow-cicd-setup">A very simple two workflow CI/CD setup<a class="headerlink" href="#a-very-simple-two-workflow-cicd-setup" title="Permanent link">⚓</a></h2>
<p>A base CI/CD setup involves two workflows: one for integration tests,
and one for distribution.</p>
<p>If you have a workflow <code>primary</code> for doing the integration tests,
and <code>deploy</code> to do the deployment / distribution, and you want to
run the integration test for code pushes and pull requests on every branch
except the <code>master</code> branch, which should instead use the <code>deploy</code> workflow:</p>
<pre class="code"><code class="language-yaml">trigger_map:
- push_branch: master
  workflow: deploy
- push_branch: &quot;*&quot;
  workflow: primary
- pull_request_target_branch: &quot;*&quot;
  workflow: primary</code></pre>


<div class="admonition warning">
<p class="admonition-title">Order of the items matter!</p>
<p>When <code>bitrise</code> receives a webhook event (any kind) it'll match it against
the app's <code>trigger_map</code>. <strong>The first item it matches will select the workflow for the build!</strong></p>
</div>
<p>This means that if you'd specify the <code>push_branch: master</code> <strong>after</strong> the
<code>push_branch: "*"</code> item, <code>master</code> would never be selected as every code push
event would match <code>push_branch: "*"</code> first!</p>
<h3 id="dont-start-two-builds-for-pull-requests-from-the-same-repository">Don't start two builds for pull requests from the same repository<a class="headerlink" href="#dont-start-two-builds-for-pull-requests-from-the-same-repository" title="Permanent link">⚓</a></h3>
<p>When you start a Pull Request from the same repository (not from a fork,
just from a branch of the repository),
<strong>the source code hosting service will send two webhooks</strong>,
one for the code push and one for the pull request!</p>
<p>An important note: although it might seem like both builds are the same,
it might not be! The code push event/build builds the code
of the branch, without any merging etc. It builds the exact same state of the code
what you have when you checkout that branch.
The Pull Request build on the other hand builds a "pre-merged" state of the code,
which is expected to be the state of the code <strong>after</strong> you merge the pull request.</p>
<p>Whether you want to build both or just one of these in case of a pull request
is up to you and depends on your project's requirements, but with <code>bitrise</code>
you can decide whether you want it or not.</p>
<div class="admonition note">
<p class="admonition-title">Code merge is treated as Code Push!</p>
<p>Source code hosting services treat the event of "merge" as a code push
event. For example if you merge a Pull Request from <code>feature/a</code> into <code>master</code>,
when you merge the PR it will generate a code push to <code>master</code>.</p>
</div>
<p>An example to build only the pull request ("pre-merged") events/state,
in addition to deploying <code>master</code>:</p>
<pre class="code"><code class="language-yaml">trigger_map:
- push_branch: master
  workflow: deploy
- pull_request_target_branch: &quot;*&quot;
  workflow: primary</code></pre>


<p>or if you don't want to start a build for pull requests, only for code push events:</p>
<pre class="code"><code class="language-yaml">trigger_map:
- push_branch: master
  workflow: deploy
- push_branch: &quot;*&quot;
  workflow: primary</code></pre>


<h2 id="how-to-build-only-pull-requests">How to build only pull requests<a class="headerlink" href="#how-to-build-only-pull-requests" title="Permanent link">⚓</a></h2>
<p>If all you want is to run integration tests for pull requests, and you
don't want to do anything else, then you can use a trigger map configuration
like this:</p>
<pre class="code"><code class="language-yaml">trigger_map:
- pull_request_target_branch: &quot;*&quot;
  workflow: primary</code></pre>


<p>This will select the <code>primary</code> workflow for every and any pull request,
and will not start a build for anything else.</p>
<p>If you'd only want to build pull requests which are targeted to
be merged into <code>master</code>, the configuration would look like this:</p>
<pre class="code"><code class="language-yaml">trigger_map:
- pull_request_target_branch: master
  workflow: primary</code></pre>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../adding-a-github-webhook/" title="Adding a GitHub webhook">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Adding a GitHub webhook
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../../caching/about-caching/" title="About caching">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                About caching
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '../..';
      var repo_id  = 'bitrise-io/devcenter';
    </script>
    <script src="../../assets/javascripts/application-997097ee0c.js"></script>
    
    
  </body>
</html>