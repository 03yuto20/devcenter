<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Install Any Additional Tool - Bitrise DevCenter</title>
      
      
      
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="Bitrise DevCenter">
    <meta property="og:image" content="None/../../img/logo.svg">
    <meta name="apple-mobile-web-app-title" content="Bitrise DevCenter">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
      <link rel="apple-touch-icon" href="../../img/logo.svg">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../../assets/fonts/icon.eot?52m981');
      	src: url('../../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../../assets/stylesheets/application-a422ff04cc.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/palettes-05ab2406df.css">
    
    
      
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700|Source+Code+Pro">
      <style>
        body, input {
          font-family: 'Roboto', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Source Code Pro', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script src="../../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class="palette-primary-deep-purple palette-accent-deep-purple">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
              
                Tips & Tricks <i class="icon icon-link"></i>
              
            
          </span>
        
        Install Any Additional Tool
      </div>
    </div>
    
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/bitrise-io/devcenter" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="../../img/logo.svg">
        </div>
      
      <div class="name">
        <strong>
          Bitrise DevCenter
          <span class="version">
            
          </span>
        </strong>
        
          <br>
          bitrise-io/devcenter
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/bitrise-io/devcenter/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/bitrise-io/devcenter/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Bitrise DevCenter" href="../..">
      Bitrise DevCenter
    </a>
    
  </li>

          
            
  <li>
    <span class="section">Getting Started</span>
    <ul>
      
        
  <li>
    <a class="" title="What is Bitrise?" href="../../getting-started/">
      What is Bitrise?
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Builds & Workflows" href="../../getting-started/builds-and-workflows/">
      Builds & Workflows
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Infrastructure</span>
    <ul>
      
        
  <li>
    <a class="" title="Virtual Machines" href="../../infrastructure/virtual-machines/">
      Virtual Machines
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Available Stacks" href="../../infrastructure/available-stacks/">
      Available Stacks
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Signing up</span>
    <ul>
      
        
  <li>
    <a class="" title="Signing up with GitHub" href="../../signing-up/signing-up-with-github/">
      Signing up with GitHub
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Signing up with Bitbucket" href="../../signing-up/signing-up-with-bitbucket/">
      Signing up with Bitbucket
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Signing up with email" href="../../signing-up/signing-up-with-email/">
      Signing up with email
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Trial after signing up" href="../../signing-up/trial-after-signing-up/">
      Trial after signing up
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Adding a new app</span>
    <ul>
      
        
  <li>
    <a class="" title="Adding a new app" href="../../adding-a-new-app/">
      Adding a new app
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Connecting a repository" href="../../adding-a-new-app/connecting-a-repository/">
      Connecting a repository
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Setting up SSH keys" href="../../adding-a-new-app/setting-up-ssh-keys/">
      Setting up SSH keys
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Setting up configuration" href="../../adding-a-new-app/setting-up-configuration/">
      Setting up configuration
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Tutorials</span>
    <ul>
      
        
  <li>
    <a class="" title="Community Created" href="../../tutorials/community-created/">
      Community Created
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Create signed APK on bitrise.io" href="../../tutorials/create-signed-apk-on-bitrise/">
      Create signed APK on bitrise.io
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Team management</span>
    <ul>
      
        
  <li>
    <a class="" title="Adding a new team member" href="../../team-management/">
      Adding a new team member
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Changing the owner of an app" href="../../team-management/changing-the-owner-of-an-app/">
      Changing the owner of an app
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Webhooks</span>
    <ul>
      
        
  <li>
    <a class="" title="Adding webhooks" href="../../webhooks/">
      Adding webhooks
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Adding a GitHub webhook" href="../../webhooks/adding-a-github-webhook/">
      Adding a GitHub webhook
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Caching</span>
    <ul>
      
        
  <li>
    <a class="" title="About caching" href="../../caching/about-caching/">
      About caching
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Caching Cocoapods" href="../../caching/caching-cocoapods/">
      Caching Cocoapods
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Caching Gradle" href="../../caching/caching-gradle/">
      Caching Gradle
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Caching Ruby GEMs" href="../../caching/caching-ruby-gems/">
      Caching Ruby GEMs
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">iOS</span>
    <ul>
      
        
  <li>
    <a class="" title="Code Signing" href="../../ios/code-signing/">
      Code Signing
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="List of known Xcode issues" href="../../ios/known-xcode-issues/">
      List of known Xcode issues
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Docker</span>
    <ul>
      
        
  <li>
    <a class="" title="How to run your build locally in Docker" href="../../docker/run-your-build-locally-in-docker/">
      How to run your build locally in Docker
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="How we build our images" href="../../docker/how-we-build-our-images/">
      How we build our images
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Tips & Tricks</span>
    <ul>
      
        
  <li>
    <a class="" title="Attach any file as an Artifact to the Build" href="../attach-any-file-to-build/">
      Attach any file as an Artifact to the Build
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Expose an Environment Variable and use it in another Step" href="../expose-environment-variable/">
      Expose an Environment Variable and use it in another Step
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Don't mark the Build as failed if a given step would fail (ignore the error of the Step)" href="../dont-mark-build-failed-if-step-fails/">
      Don't mark the Build as failed if a given step would fail (ignore the error of the Step)
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Enable/Disable a step (optionally, based on a condition)" href="../disable-a-step-by-condition/">
      Enable/Disable a step (optionally, based on a condition)
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Xcode Archive: export options" href="../xcodebuild-export-options/">
      Xcode Archive: export options
    </a>
    
  </li>

      
        
  <li>
    <a class="current" title="Install Any Additional Tool" href="./">
      Install Any Additional Tool
    </a>
    
      
      
        <ul>
          
            <li class="anchor">
              <a title="Step by step setup" href="#step-by-step-setup">
                Step by step setup
              </a>
            </li>
          
            <li class="anchor">
              <a title="Advanced option: use deps in bitrise.yml" href="#advanced-option-use-deps-in-bitriseyml">
                Advanced option: use deps in bitrise.yml
              </a>
            </li>
          
            <li class="anchor">
              <a title="Conditional execution" href="#conditional-execution">
                Conditional execution
              </a>
            </li>
          
        </ul>
      
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
            <h1>Install Any Additional Tool</h1>
          
          <p>If you need something you can't find a Step for, you can always install &amp; use tools with scripts or Script steps.</p>
<p>Just add a <code>Script</code> step to your Workflow, and either write your script there, or run a script from your repository.</p>
<p><em>Passwordless <code>sudo</code> is enabled on all of our build virtual machines, so you can freely use <code>sudo</code> if you need it.</em></p>
<p>Once you have a working script, <strong>you can also transform it into a Step</strong> and optionally share it with others (through our StepLib).
You can find a template and more information about how you can create your own Step at: <a href="https://github.com/bitrise-steplib/step-template">https://github.com/bitrise-steplib/step-template</a></p>
<h2 id="step-by-step-setup">Step by step setup<a class="headerlink" href="#step-by-step-setup" title="Permanent link">⚓</a></h2>
<ol>
<li>Open your app on Bitrise.io</li>
<li>Open the app's Workflow Editor (on the <code>Workflow</code> tab -&gt; click <code>Manage Workflows</code>)</li>
<li>Select a Workflow</li>
<li>Click on the <code>+</code> sign (you can see this between every step), where you want to insert your Script step</li>
<li>In the step list search for "script", and click the <code>Add to Workflow</code> button on the "Script" step item.</li>
<li>Now that you have the Script step in your workflow, you just have to select it and write your script into the <code>Script content</code> input (on the right side of the Workflow Editor).</li>
</ol>
<p><em>Note: you can drag-and-drop reorder the steps in the Workflow, so you don't have to delete and re-add a step if you'd want to change the order.</em></p>
<p>If you want to run a script from your repository you can run it from this Script step. Paths are relative to your repository's root. So, for example, if you have a Bash script at <code>path/to/script.sh</code> you can run it with this <code>Script content</code>:</p>
<pre class="code"><code>bash ./path/to/script.sh</code></pre>


<p>Or, in a more robust form (which is better if you want to extend the content in the future):</p>
<pre class="code"><code class="language-bash linenums">#!/bin/bash
set -ex
bash ./path/to/script.sh</code></pre>


<p><em>The <code>set -ex</code> line is recommended for every multi-line Bash script, to make your scripts easier to debug.</em></p>
<p>You can of course run non Bash scripts too, e.g. a Ruby script:</p>
<pre class="code"><code class="language-bash linenums">#!/bin/bash
set -ex
ruby ./path/to/script.rb</code></pre>


<h3 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">⚓</a></h3>
<p>At this point you already have the Script step in your Workflow, and you just have to write the
script to install the dependency. How do you do that? Exactly the same way you would on
your own Mac / Linux, in your Terminal / Command Line!</p>
<h4 id="brew-on-macos"><code>brew</code> on macOS<a class="headerlink" href="#brew-on-macos" title="Permanent link">⚓</a></h4>
<p>E.g. to install <code>cmake</code> with a script step, on macOS, using <code>brew</code>:</p>
<pre class="code"><code class="language-bash linenums">#!/bin/bash
set -ex
brew install cmake</code></pre>


<p>Actually, the whole Script content could be as short as:</p>
<pre class="code"><code>brew install cmake</code></pre>


<p>Which is exactly how you would use <code>brew</code> on your Mac, but you'll most likely
add more content to the Script step sooner or later; the first
example is a more future proof Bash script template.</p>
<h4 id="apt-get-on-linux"><code>apt-get</code> on Linux<a class="headerlink" href="#apt-get-on-linux" title="Permanent link">⚓</a></h4>
<p>E.g. to install <code>cmake</code> with a script step, on Linux, using <code>apt-get</code>:</p>
<pre class="code"><code class="language-bash linenums">#!/bin/bash
set -ex
sudo apt-get install -y cmake</code></pre>


<div class="admonition note">
<p class="admonition-title">Don't forget the <code>-y</code> flag for <code>apt-get</code>!</p>
<p>If you don't add the <code>-y</code> ("yes") flag to the <code>apt-get</code> command, <code>apt-get</code> will
present a prompt which you have to accept or deny <strong>manually</strong>.
This is not a problem on your own Linux machine, but in a CI environment
you can't provide manual input for <code>apt-get</code>. To prevent this issue,
and to auto accept the prompt, just use the <code>-y</code> flag, as shown in the example.</p>
</div>
<h2 id="advanced-option-use-deps-in-bitriseyml">Advanced option: use <code>deps</code> in <code>bitrise.yml</code><a class="headerlink" href="#advanced-option-use-deps-in-bitriseyml" title="Permanent link">⚓</a></h2>
<p>Instead of installing your tool inside the Script step, you can use the <code>deps</code> option
of the <code>bitrise.yml</code>. If you declare <code>deps</code> <em>for a given Step</em>,
the <a href="https://github.com/bitrise-io/bitrise">Bitrise CLI</a>
will check if that tool is installed, and will install it for you if required.</p>
<div class="admonition note">
<p class="admonition-title">Available dependency managers</p>
<p>This method is the preferred way of handling (step) dependencies, as the Bitrise CLI
will not (re)install the specified tool(s) if it's already available.
That said, there are tools which are not available in the supported dependency managers,
or you need a version of the tool which is not available in the dependency manager.
In those cases you should simply install the tool inside the Script, as described above. </p>
</div>
<p>An example, installing <code>cmake</code> with either <code>apt-get</code> (where <code>apt-get</code> is available),
or with <code>brew</code> (on macOS):</p>
<pre class="code"><code>deps:
  brew:
  - name: cmake
  apt_get:
  - name: cmake</code></pre>


<p>A minimal <code>bitrise.yml</code> for demonstration:</p>
<pre class="code"><code>format_version: 1.2.0
default_step_lib_source: https://github.com/bitrise-io/bitrise-steplib.git

workflows:
  test:
    steps:
    - script:
        deps:
          brew:
          - name: cmake
          apt_get:
          - name: cmake
        inputs:
          - content: |-
              #!/bin/bash
              set -ex
              which cmake</code></pre>


<h2 id="conditional-execution">Conditional execution<a class="headerlink" href="#conditional-execution" title="Permanent link">⚓</a></h2>
<p>Additionally, you can use Environment Variables in your scripts too. As an example, using the base <a href="doc:available-environment-variables">Available Environment Variables</a> <code>PR</code> (but you can use any Environment Variable, like the ones exposed by previous steps in the Workflow), to run different scripts in case of a Pull Request and a non Pull Request build:</p>
<pre class="code"><code class="language-bash linenums">#!/bin/bash
set -ex

if [[ &quot;$PR&quot; == &quot;true&quot; ]] ; then
  echo &quot;=&gt; Pull Request mode/build!&quot;
  bash ./path/to/in-case-of-pull-request.sh
else
  echo &quot;=&gt; Not Pull Request mode/build!&quot;
  bash ./path/to/not-pull-request.sh
fi</code></pre>


<p><em>Note: if you <strong>don't</strong> want to run any part of the Step/script based on a variable (like <code>$PR</code>),
you don't have to implement the check in the script. You can use the <code>run_if</code> expression in
the <code>bitrise.yml</code> directly to declare in which case(s) the Step should run. Additionally,
<code>run_if</code> can be added to any step, not just to Script steps.
You can find more information about <code>run_if</code> expressions
in <a href="../../tips-and-tricks/disable-a-step-by-condition/#run-a-step-only-if-the-build-failed">this guide</a>.</em></p>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../xcodebuild-export-options/" title="Xcode Archive: export options">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Xcode Archive: export options
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '../..';
      var repo_id  = 'bitrise-io/devcenter';
    </script>
    <script src="../../assets/javascripts/application-997097ee0c.js"></script>
    
    
  </body>
</html>